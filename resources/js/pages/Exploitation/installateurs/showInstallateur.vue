<script setup lang="ts">
import { Label } from '@/components/ui/label';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';

const props = defineProps({
    installateur: {
        type: Object,
        default: () => ({
            designation_juridique: '',
            nom_commercial: '',
            siren: '',
            num_etablissement: '',
            numero_tva: '',
            telephone: '',
            email: '',
            site_web: '',
            actif: Boolean(false),
        }),
    },
});
</script>
<template>
    <h2 class="mb-2 text-center text-lg font-medium text-gray-900">Installateur : {{ props.installateur.nom_commercial }}</h2>
    <Tabs default-value="general" class="w-full">
        <TabsList class="bg-green-300">
            <TabsTrigger value="general"> Général </TabsTrigger>
            <TabsTrigger value="adresse0" v-if="props.installateur.adresses_count > 0">
                Adresse {{ props.installateur.adresses[0].type }}</TabsTrigger
            >
            <TabsTrigger value="adresse1" v-if="props.installateur.adresses_count > 1">
                Adresse {{ props.installateur.adresses[1].type }}
            </TabsTrigger>
        </TabsList>
        <TabsContent value="general">
            <div class="mt-4">
                <div class="mb-4 flex flex-row items-center">
                    <Label class="min-w-28">Désignation juridique :</Label>
                    <p class="px-2.5">{{ props.installateur.designation_juridique }}</p>
                </div>
                <div class="mb-4 flex flex-row items-center">
                    <Label class="min-w-28">Nom Commercial :</Label>
                    <p class="px-2.5">{{ props.installateur.nom_commercial }}</p>
                </div>
                <div class="item-space-between mb-4 flex flex-row">
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Siren :</Label>
                        <p class="px-2.5">{{ props.installateur.siren }}</p>
                    </div>
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Etablissement :</Label>
                        <p class="px-2.5">{{ props.installateur.num_etablissement }}</p>
                    </div>
                </div>
                <div class="mb-4 flex flex-row items-center">
                    <Label class="min-w-28">Num TVA :</Label>
                    <p class="px-2.5">{{ props.installateur.numero_tva }}</p>
                </div>
                <div class="item-space-between mb-4 flex flex-row">
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Téléphone :</Label>
                        <p class="px-2.5">{{ props.installateur.telephone }}</p>
                    </div>
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Email :</Label>
                        <p class="px-2.5">{{ props.installateur.email }}</p>
                    </div>
                </div>
                <div class="mb-4 flex flex-row items-center">
                    <Label class="min-w-28">Site Web :</Label>
                    <p class="px-2.5">{{ props.installateur.site_web }}</p>
                </div>
                <div class="mb-4 flex flex-row items-center">
                    <Label class="min-w-28">Modifié par :</Label>
                    <p class="px-2.5">{{ props.installateur.user.name }}</p>
                </div>
            </div>
        </TabsContent>
        <TabsContent value="adresse0" v-if="props.installateur.adresses_count > 0">
            <div class="mt-4">
                <div class="mb-2 flex flex-row items-center">
                    <Label class="min-w-28">Adresse</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].adresse }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[0].adresse_complement">
                    <Label class="min-w-28">Complément :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].adresse_complement }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[0].lieu_dit">
                    <Label class="min-w-28">Lieu-dit :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].lieu_dit }}</p>
                </div>
                <div class="item-space-between mb-2 flex flex-row">
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Code Postal :</Label>
                        <p class="px-2.5">{{ props.installateur.adresses[0].code_postal }}</p>
                    </div>
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Ville :</Label>
                        <p class="px-2.5">{{ props.installateur.adresses[0].ville }}</p>
                    </div>
                </div>
                <div class="mb-2 flex flex-row items-center">
                    <Label class="min-w-28">Pays</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].pays }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[0].parcelle_cadastrale_1">
                    <Label class="min-w-28">Parcelle cadastrale 1 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].parcelle_cadastrale_1 }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[0].parcelle_cadastrale_2">
                    <Label class="min-w-28">Parcelle cadastrale 2 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].parcelle_cadastrale_2 }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[0].parcelle_cadastrale_3">
                    <Label class="min-w-28">Parcelle cadastrale 3 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[0].parcelle_cadastrale_3 }}</p>
                </div>
            </div>
        </TabsContent>
        <TabsContent value="adresse1" v-if="props.installateur.adresses_count > 1">
            <div class="mt-4">
                <div class="mb-2 flex flex-row items-center">
                    <Label class="min-w-28">Adresse</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].adresse }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[1].adresse_complement">
                    <Label class="min-w-28">Complément :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].adresse_complement }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[1].lieu_dit">
                    <Label class="min-w-28">Lieu-dit :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].lieu_dit }}</p>
                </div>
                <div class="item-space-between mb-2 flex flex-row">
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Code Postal :</Label>
                        <p class="px-2.5">{{ props.installateur.adresses[1].code_postal }}</p>
                    </div>
                    <div class="flex w-1/2">
                        <Label class="min-w-28">Ville :</Label>
                        <p class="px-2.5">{{ props.installateur.adresses[1].ville }}</p>
                    </div>
                </div>
                <div class="mb-2 flex flex-row items-center">
                    <Label class="min-w-28">Pays</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].pays }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[1].parcelle_cadastrale_1">
                    <Label class="min-w-28">Parcelle cadastrale 1 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].parcelle_cadastrale_1 }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[1].parcelle_cadastrale_2">
                    <Label class="min-w-28">Parcelle cadastrale 2 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].parcelle_cadastrale_2 }}</p>
                </div>
                <div class="mb-2 flex flex-row items-center" v-if="props.installateur.adresses[1].parcelle_cadastrale_3">
                    <Label class="min-w-28">Parcelle cadastrale 3 :</Label>
                    <p class="px-2.5">{{ props.installateur.adresses[1].parcelle_cadastrale_3 }}</p>
                </div>
            </div>
        </TabsContent>
    </Tabs>
</template>
